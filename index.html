<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interactive Poem Cards with Background</title>

<style>
@layer base, utilities, demo;
@import url(https://fonts.bunny.net/css?family=kodchasan:200,400,600) layer(demo);

/* Full-page background */
body {
  background-image: url('https://github.com/iKristenLo/fashionablekota.com/blob/main/bg.jpg?raw=true');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  position: relative;
  min-height: 100vh;
  margin: 0;
  padding: 2rem;
  font-family: system-ui, sans-serif;
  display: grid;
  place-items: center;
  color: #111;
}

/* Overlay to make cards readable */
body::before {
  content: "";
  position: fixed;
  inset: 0;
  background-color: rgba(0,0,0,0.25); /* semi-transparent overlay */
  z-index: -1;
}

@layer demo {
  section {
    --_offset-steps: 6rem;
    --_scale-steps: 25;
    --_opacity-steps: 15;
    --_ani-duration: 300ms;
    --_ani-delay: 200ms;
    --_offset-steps-two: calc(var(--_offset-steps) * -1);
    --_offset-steps-three: calc(var(--_offset-steps) * -2);
    --scale-steps-two: calc(1 - var(--_scale-steps) * 0.01);
    --scale-steps-three: calc(1 - var(--_scale-steps) * 0.02);
    --opacity-steps-two: calc(1 - var(--_opacity-steps) * 0.02);
    --opacity-steps-three: calc(1 - var(--_opacity-steps) * 0.04);
    display: grid;
    grid-template-areas: "stack";
    width: min(calc(100% - 2rem), 40rem);
    position: relative;
  }

  article {
    --_bg-alpha: .85; /* make cards slightly transparent */
    --_border-radius: 10px;
    --_bg-dot-offset: 20px;
    --_bg-dot-color: var(--_bg-clr);

    position: relative;
    isolation: isolate;
    background-color: rgba(255,255,255,var(--_bg-alpha));
    grid-area: stack;
    transition: 500ms ease-in-out;
    border-radius: var(--_border-radius);

    translate: 0 var(--_offset);
    order: var(--_order);
    z-index: var(--_order);
    scale: var(--_scale);
    opacity: var(--_opacity);
    font-family: "Kodchasan", sans-serif;

    &::before,
    &::after {
      content: "";
      position: absolute;
      border-radius: inherit;
      z-index: -1;
    }
    &::before {
      z-index: -1;
      inset: calc(var(--_bg-dot-offset) * -1);
      background-image: radial-gradient(var(--_bg-dot-color) 1px, transparent 0px);
      background-repeat: repeat;
      background-size: 5px 5px;
      background-position: center;
      border-radius: calc(var(--_border-radius) + var(--_bg-dot-offset));
    }
    &::after {
      background-color: rgba(255,255,255,var(--_bg-alpha));
      inset: 0;
    }
  }

  article:nth-of-type(1){
    --_bg-clr: rgba(163, 230, 53,var(--_bg-alpha,1));
    --_order: var(--_1-order);
    --_scale: var(--_1-scale);
    --_opacity: var(--_1-opacity);
    --_offset: var(--_1-offset);
    --_pointer-event: var(--_1-pointer-event);
    --_pointer-cursor: var(--_1-pointer-cursor);
  }
  article:nth-of-type(2){
    --_bg-clr: rgba(251, 191, 36,var(--_bg-alpha,1));
    --_order: var(--_2-order);
    --_scale: var(--_2-scale);
    --_opacity: var(--_2-opacity);
    --_offset: var(--_2-offset);
    --_pointer-event: var(--_2-pointer-event);
    --_pointer-cursor: var(--_2-pointer-cursor);
  }
  article:nth-of-type(3){
    --_bg-clr: rgba(249, 168, 212,var(--_bg-alpha,1));
    --_order: var(--_3-order);
    --_scale: var(--_3-scale);
    --_opacity: var(--_3-opacity);
    --_offset: var(--_3-offset);
    --_pointer-event: var(--_3-pointer-event);
    --_pointer-cursor: var(--_3-pointer-cursor);
  }

  section:has(input:nth-child(1):checked){
    --_1-order: 3; --_1-scale: 1; --_1-opacity: 1; --_1-offset: 0; --_1-pointer-event: auto; --_1-pointer-cursor: pointer;
    --_2-order: 2; --_2-scale: var(--scale-steps-two); --_2-opacity: var(--opacity-steps-two); --_2-offset: var(--_offset-steps-two);
    --_3-order: 1; --_3-scale: var(--scale-steps-three); --_3-opacity: var(--opacity-steps-three); --_3-offset: var(--_offset-steps-three);
  }
  section:has(input:nth-child(2):checked){
    --_2-order: 3; --_2-scale: 1; --_2-opacity: 1; --_2-offset: 0; --_2-pointer-event: auto; --_2-pointer-cursor: pointer;
    --_3-order: 2; --_3-scale: var(--scale-steps-two); --_3-opacity: var(--opacity-steps-two); --_3-offset: var(--_offset-steps-two);
    --_1-order: 1; --_1-scale: var(--scale-steps-three); --_1-opacity: var(--opacity-steps-three); --_1-offset: var(--_offset-steps-three);
  }
  section:has(input:nth-child(3):checked){
    --_3-order: 3; --_3-scale: 1; --_3-opacity: 1; --_3-offset: 0; --_3-pointer-event: auto; --_3-pointer-cursor: pointer;
    --_1-order: 2; --_1-scale: var(--scale-steps-two); --_1-opacity: var(--opacity-steps-two); --_1-offset: var(--_offset-steps-two);
    --_2-order: 1; --_2-scale: var(--scale-steps-three); --_2-opacity: var(--opacity-steps-three); --_2-offset: var(--_offset-steps-three);
  }

  article > header{
    padding: .5rem 1rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: var(--_bg-clr);
    transition: background-color var(--_ani-duration) ease-in-out;
    border-radius: var(--_border-radius) var(--_border-radius) 0 0;
  }
  article > header > label{
    padding: 0;
    color: #333;
    transition: rotate 300ms ease-in-out;    
    pointer-events: var(--_pointer-event,none);
    cursor: var(--_pointer-cursor, none);
  }
  article > header > label:hover{
    rotate: 90deg;
  }
  article > header > h2 {
    margin: 0;
    font-weight: 500;
    font-size: 1.1rem;
    transition: translate var(--_ani-duration) ease-in-out, opacity var(--_ani-duration) ease-in-out;
    transition-delay: var(--_delay-h2,0);
    opacity: var(--_opacity,0);
  }
  article > div{
    position: relative;
    padding: 2rem;
    display: grid;
    grid-template-columns: 1fr;
    place-items:start;
    gap: 2rem;
  }
  article img{
    width: 100%;
    height: 200px;
    object-fit: cover;
    transition: var(--_ani-duration) ease-in-out;
    opacity: var(--_opacity,0);
  }
  article .poem{
    width: 100%;
    height: 200px;
    overflow-y: auto;
  }
  article p{
    transition: var(--_ani-duration) ease-in-out;
    transition-delay: 500ms;
    opacity: var(--_opacity,0);
    margin: 0 0 1rem 0;
    font-size: .9rem;
  }
}

@layer utilities{
  .sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0,0,0,0);
    white-space: nowrap;
    border-width: 0;
  }
}
</style>
</head>
<body>

<section>
  <input class="sr-only" id="card-1" type="radio" name="panel" checked />
  <input class="sr-only" id="card-2" type="radio" name="panel" />
  <input class="sr-only" id="card-3" type="radio" name="panel" />

  <article id="article-1">
    <header>
      <h2>Who Am I? - Who Is K ?</h2>
      <label for="card-2">&#10539;</label>
    </header>
    <div>
      <img src="https://picsum.photos/id/641/200/200" alt="watch tower">
      <div class="poem">
        <p>A lone watchtower stands by the moaning shore,<br>Its shadow long, though eyes watch no more.</p>
      </div>
    </div>
  </article>

  <article id="article-2">
    <header>
      <h2>What are my Intrests ?</h2>
      <label for="card-3">&#10539;</label>
    </header>
    <div>
      <img src="https://picsum.photos/id/634/200/200" alt="forest mist">
      <div class="poem">
        <p>The forest sleeps beneath a shroud of grey,<br>Where dawn forgets to find its way.</p>
      </div>
    </div>
  </article>

  <article id="article-3">
    <header>
      <h2>K's Projects!</h2>
      <label for="card-1">&#10539;</label>
    </header>
    <div>
      <img src="https://picsum.photos/id/824/200/200" alt="computer">
      <div class="poem">
        <p>There once was a pineapple, proud and round,<br>Who somehow sprouted in farming ground.</p>
      </div>
    </div>
  </article>
</section>

</body>
</html>
